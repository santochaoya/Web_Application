<template>    <div>        <header>            <div class="headline">                <a>                    <strong>FindHopes</strong>                </a>            </div>        </header>        <div class="button-back" style="margin-top:80px;"><router-link :to="{ name:'projects' }"><sgrong>Back</sgrong></router-link></div>        <div id="make_pledge_modal" role="dialog">            <div role="content">                <div >                    <div>                        <div>                            <h3>Make a Pledge</h3>                        </div>                    </div>                    <div class="modal-body">                        <form>                            <div class="labelInfo">                                <label class="labelInfo" style="color: black">Amount</label>                                <div >                                    <input type="text" class="text-username1" name="pledge_amount" placeholder="Amount" v-model="pledge_amount">                                </div>                            </div>                            <div class="labelInfo">                                <label class="labelInfo" style="color: black">Name<span style="color:red">*</span></label>                                <div >                                    <input type="text" class="text-username1" name="Name" placeholder="Name" v-model="name">                                </div>                            </div>                            <div class="labelInfo">                                <label class="labelInfo" style="color: black">Card No.<span style="color:red">*</span></label>                                <div >                                    <input type="text" class="text-username1" name="reward_desc" placeholder="Card No." v-model="card_no">                                </div>                            </div>                            <div class="labelInfo">                                <label class="labelInfo" style="color: black">Expired Date<span style="color:red">*</span></label>                                <div >                                    <input type="text" class="text-username1" name="expire_date" placeholder="MM/YY" v-model="expire_date">                                </div>                            </div>                            <div class="labelInfo">                                <label class="labelInfo" style="color: black">CVV2<span style="color:red">*</span></label>                                <div class="col-5 col-lg-3">                                    <input type="text" class="text-username1" name="CVV2" placeholder="CVV2" v-model="cvv2">                                </div>                            </div>                            <div class="labelInfo">                                <label class="labelInfo" style="color: black">Anonymous</label>                                <div >                                    <select id="anonymous" name="anonymous" >                                        <option value=1>Yes</option>                                        <option value=0 selected>No</option>                                    </select>                                </div>                            </div>                            <div class="labelInfo">                                <label style="color:red" class="col">{{error_msg}}</label>                            </div>                        </form>                    </div>                    <div class="modal-footer">                        <button type="button" class="button-login" @click="makePledge()">Pledge</button>                        <button type="button" class="button-login" data-dismiss="modal" @click="default_make_pledge_modal()">Cancle</button>                    </div>                </div>            </div>        </div>        <router-view></router-view>    </div></template><script>    export default {        data (){            return{                error:"",                errorFlag: false,                project:null,                msg:"",                newDate: new Date(),                backers:[],            }        },        methods: {            makePledge(){                let ano_flag = $('#anonymous').val();                let ano=false;                if(ano_flag==1){                    ano=true;                }                if(this.card_no==''){                    this.error_msg='Card no cannot be empty';                }else{                    let pledge_json =                        {                            "id": this.user_id,                            "amount": parseInt(this.pledge_amount),                            "anonymous": ano,                            "card": {                                "authToken": this.card_no.length.toString(16)+this.name.length.toString(16)+this.cvv2.length.toString(16)+this.expire_date.length.toString(16)                            }                        };                    this.$http.post('http://csse-s365.canterbury.ac.nz:5199/api/v2/projects/'+this.projectId+'/pledge',                        pledge_json,                        {                            headers:                                {                                    'X-Authorization': this.$session.get('token')                                }                        }                    ).then(function (res) {                        this.$session.set('pro_status','my_pledge');                        this.$router.go(0);                    }, function (err) {                        this.error_msg='fault';                    });                }            },            default_make_pledge_modal(){                this.pledge_amount=0;                this.card_no='';                this.error_msg='';                this.name='';                this.cvv2='';                this.expire_date='';                $('#anonymous').val(0);            },        }    }</script>